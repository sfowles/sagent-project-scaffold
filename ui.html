<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css" />
<script src="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/iife/figma-plugin-ds.js"></script> 

<style>
  body {
    padding: 2em;
    background: #272B2F;
    color: #fff;
  }

  div {
    margin: 1em;
    margin-top: 2rem;
  }

  .section {
    padding: 1rem;
    background: #464D53;
    border-radius: 8px;
    margin: 1em 0;
  }

  .section__heading {
    margin-top: 0;
  }

  .jira-input {
    display: none;
  }

  input, select, textarea {
    display: block;
    margin-top: 0.5rem !important;
  }

  .input__field,
  .select-menu__button,
  .textarea {
    border-color: transparent !important;
    background: #33383D;
    color: #fff !important;
    border-radius: 4px;
  }

  .input__field:focus,
  .select-menu__button:focus,
  .textarea:focus {
    border-color: #18a0fb !important;
  }

  .input__field:disabled {
    color: #666 !important;
  }

  .select-menu {
    margin: 0 0 1em 0;
    margin-top: 0.5rem !important;
  }

  .select-menu__label {
    color: #fff !important;
  }

  .select-menu__caret {
    background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSI1IiB2aWV3Qm94PSIwIDAgOSA1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAwLjVMNC41IDMuNUw4IDAuNSIgc3Ryb2tlPSJ3aGl0ZSIvPgo8L3N2Zz4K") !important;
    opacity: 1 !important;
  }

  ::placeholder {
    color: #B7BDC2 !important;
  }

  .document-name {
    display: inline;
    position: relative;
    margin-top: 0;
    top: -0.6rem;
    border-left: 1px solid #33383D;
    padding-left: 1rem;
  }

  .button {
    margin: 2rem 1rem 0;
    width: calc(100% - 2rem);
  }

  .switch__label {
    color: #fff;
  }

  .switch__label::before {
    background-color: #464D53;
  }

  .switch__toggle:checked + .switch__label::before {
    background-color: #45E2DA;
  }

  .sagent-logo {
    position: relative;
    display: inline-block;
    width: 55px;
    height: 40px;
    margin: 0;
    left: -6px;
    background-size: cover;
    background-image: url("data:image/png;base64,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");
  }
</style>

<div class="sagent-logo" alt="Sagent Logo"></div>

<h2 class="document-name"></h2>

<div class="section section__cover">

  <h3 class="section__heading">Cover Image</h3>

  <div class="switch switch--component">
    <input class="switch__toggle" type="checkbox" id="component" onchange="isComponent(this)">
    <label class="switch__label" for="component">Design System Component</label>
  </div>

  <div>
    <label for="title">Title</label>
    <input type="text" id="title" class="input__field" placeholder="Type a title for the cover" />
  </div>

  <div>
    <label for="workstream">Workstream Name</label>
    <input type="text" id="workstream" class="input__field" placeholder="Type the workstream name" />
  </div>

  <div id="file-status">
    <label for="status">File Status</label>
    <select class="select-menu" placeholder="Select a file status" id="status">
      <option value="Exploration">Exploration</option>
      <option value="Design In Progress">Design In Progress</option>
      <option value="Pending Approval">Pending Approval</option>
      <option value="Ready For Development">Ready For Development</option>
      <option value="Shipped">Shipped</option>
      <option value="Ongoing">Ongoing</option>
      <option value="Paused">Paused</option>
      <option value="Scrapped">Scrapped</option>
      <option value="Internal">Internal</option>
    </select>
  </div>
</div>

<div class="section section__overview">
  <h3 class="section__heading">File Overview</h3>

  <div>
    <label for="description">Description</label>
    <textarea class="textarea" id="description" placeholder="Type a brief description of what this file will contain." rows="2"></textarea>
  </div>

  <div class="problem">
    <label for="problem">Problem Statement</label>
    <textarea class="textarea" id="problem" placeholder="Clearly state the problem being solved, and who it is being solved for." rows="2"></textarea>
  </div>

  <div class="story">
    <label for="story">User Story</label>
    <textarea class="textarea" id="story" placeholder="Include the user story here." rows="2"></textarea>
  </div>

  <div class="persona">
    <label for="persona">Persona</label>
    <input type="text" id="persona" class="input__field" placeholder="Include the name of the persona(s) being targeted by this file." />
  </div>

  <div class="azure-input">
    <label for="azure">Azure Story Link (optional)</label>
    <input type="text" id="azure" class="input__field" placeholder="https://" />
  </div>

  <div class="jira-input">
    <label for="jira">Jira Story Link (optional)</label>
    <input type="text" id="jira" class="input__field" placeholder="https://" />
  </div>

  <div>
    <label for="designer">Lead Designer</label>
    <input type="text" id="designer" class="input__field" placeholder="Who will be the lead designer for this file?" />
  </div>

  <div>
    <label for="start">Start Date</label>
    <input type="text" id="start" class="input__field start" placeholder="Type a title for the cover" />
  </div>
</div>

<div>
  <button class="button button--primary" id="submit-post">Run!</button>
</div>

<script>
  selectMenu.init();

  // Run on load
  (() => {
    let today = new Date();
    let dd = String(today.getDate()).padStart(2, '0');
    let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
    let yyyy = today.getFullYear();
    today = mm + '/' + dd + '/' + yyyy;
    document.querySelector('.start').setAttribute('value', today);
  })();

  // Run when Component toggle is changed
  function isComponent(e) {
    if (e.checked) {
      document.querySelector('#workstream').value = 'Component';
      document.querySelector('#workstream').disabled = true;
      document.querySelector('.azure-input').style.display = 'none';
      document.querySelector('.jira-input').style.display = 'block';
      document.querySelector('.problem').style.display = 'none';
      document.querySelector('.story').style.display = 'none';
      document.querySelector('.persona').style.display = 'none';
    }

    if (e.checked === false) {
      document.querySelector('#workstream').value = null;
      document.querySelector('#workstream').disabled = false;
      document.querySelector('.azure-input').style.display = 'block';
      document.querySelector('.jira-input').style.display = 'none';
      document.querySelector('.problem').style.display = 'block';
      document.querySelector('.story').style.display = 'block';
      document.querySelector('.persona').style.display = 'block';
    }
  }

  // Run on submit
  onmessage = event => {
    const documentName = event.data.pluginMessage;
    document.querySelector('.document-name').append(documentName);
  }

  document.getElementById('submit-post').onclick = () => {
    const title = document.getElementById('title').value;
    const workstream = document.getElementById('workstream').value;
    const status = document.getElementById('status').value;
    const description = document.getElementById('description').value;
    const problem = document.getElementById('problem').value;
    const story = document.getElementById('story').value;
    const persona = document.getElementById('persona').value;
    const azure = document.getElementById('azure').value;
    const designer = document.getElementById('designer').value;
    const start = document.getElementById('start').value;
    const isComponent = document.querySelector('#component').checked;

    parent.postMessage({
      pluginMessage: {
        title,
        workstream,
        status,
        description,
        problem,
        story,
        persona,
        azure,
        designer,
        start,
        isComponent
      }
    }, '*');
  }
</script>
